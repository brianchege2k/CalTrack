{% extends 'login.html' %}
{% load static %}
{% block content %}
<a href={% url "home" %}><img src="{% static 'img/logo.svg' %}" alt="Logo" class="logo"></a>
    <div class="login">
        <div class="login-screen">
            <div class="app-title">
                <h1>Register</h1>
            </div>

            <form method="POST" action="" class="login-form">
              {% csrf_token %}
              <div class="form-group">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text"><i class="fa fa-user"></i></span>
                  </div>
                
                {{ form.username }}
                
                </div>
                </div>
                <div class="form-group">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="fa fa-envelope"></i></span>
                    </div>
               {{ form.email}}
                </div> 
                </div>
              
                <div class="form-group">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="fa fa-lock"></i></span>
                    </div> 
                 
                {{ form.password1 }}
                <div class="input-group-append">
                  <span class="input-group-text"><i class="fa fa-eye-slash" onclick="togglePasswordVisibility(this)"></i></span>
                </div>
                
                </div>
                </div>
                <div class="form-group">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text"><i class="fa fa-lock"></i></span>
                    </div> 
                
                {{ form.password2 }}
                <div class="input-group-append">
                  <span class="input-group-text"><i class="fa fa-eye-slash" onclick="togglePasswordVisibility(this)"></i></span>
                </div>
                </div> 
                </div>
                <script>
                  function togglePasswordVisibility(icon) {
                    var passwordInput = icon.parentNode.parentNode.previousElementSibling;
                    if (passwordInput.type === "password") {
                      passwordInput.type = "text";
                      icon.classList.remove("fa-eye-slash");
                      icon.classList.add("fa-eye");
                    } else {
                      passwordInput.type = "password";
                      icon.classList.remove("fa-eye");
                      icon.classList.add("fa-eye-slash");
                    }
                  }
                  </script>
                
                <input class="btn btn-primary btn-large btn-block" type="submit" name="Register" value="Sign Up">

            </form>
            {{ form.errors }}
            <div class="d-flex justify-content-center links mt-8">
            Already have an account? <a href="{% url 'login' %}" class="ml-4">Login</a>
          </div>
        </div>
    </div>
    <script>
  
    //Query All input fields
    var form_fields = document.getElementsByTagName('input')
    form_fields[1].placeholder='Username..';
    form_fields[2].placeholder='Email..';
    form_fields[3].placeholder='Enter password...';
    form_fields[4].placeholder='Re-enter Password...';


    for (var field in form_fields){ 
      form_fields[field].className += ' form-control'
    }
  </script>

{% endblock content %}